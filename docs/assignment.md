# Agents – LLM проєкт

Ваше завдання: створити LLM-агента, який має певний набір інструментів і використовує їх. Ви вільні обрати самостійно, яку задачу розв’язує цей агент, або взяти нижче запропонований варіант завдання, в якому агент приймає іспит з курсу NLP.


Це завдання можна виконувати командою до 3-6 людей.


Вашого агента мають перевірити кілька інших студентів. Читайте розділ “Здача”.

Дедлайн:		18 грудня 2025 року (виконання)
		  	24 грудня 2025 року (перевірка)
Лекція:      	TBD
Live coding: 	TBD


## AI Examiner Agent
### Алгоритм роботи бота
Це лише запропонований варіант, ви не зобов’язані його дотримуватися.


1. Бот питає в студента ім’я та email.
2. Після отримання цієї інформації, система викликає функцію start_exam(email: str, name: str) -> list[str]. Ця функція повертає список тем, які потрібно опитати. Детальніше про функції буде далі.
3. Бот починає розпитувати студента про отримані теми.
    1. Іспит йде у форматі діалогу, тож на кожну тему може припадати кілька ходів діло
    2. До наступного питання переходимо:
        1. При отриманні достатньо якісної відповіді на запитання.
        2. Коли студент явно каже, що не знає відповіді або не може додати нічого нового.
        3. Коли стає зрозумілим рівень знань студента й подальші кроки навряд чи призведуть до іншої оцінки.
4. Після завершення іспиту (тобто після останнього питання):
    1. Бот показує студентові результат: оцінку та відгук (що було добре, над чим варто попрацювати ще)
    2. Бот викликає функцію `end_exam(email: str, score: float, history: list[Message])`


### Функції
Бот має викликати функції у відповідні моменти. Ці функції мають бути імплементовані як звичайні пайтонівські функції. Можете максимально їх спрощувати. Наприклад, замість бази даних можна зберігати все у файлах або навіть просто друкувати на екран.

def start_exam(email: str, name: str) -> list[str]
Викликається, коли бот має достатньо інформації про студента, щоб почати іспит. Ця функція робить запис в базі даних про початок іспиту та повертає список з 2-3 випадково обраних тем для іспиту.

Якщо студента не знайдено в базі даних, ця функція повертає помилку. У такому разі, бот має уточнити дані в студента.


Для імплементації цієї функції вам знадобиться:
список тем
список студентів.


def get_next_topic() -> str:
Виклакається, коли боту потрібна нова тема для обговорення. Повертає назву теми.


def end_exam(email: str, score: float, history: list[Message]) -> None:


Викликається в кінці іспиту. Записує результат іспиту. `score` – оцінка по шкалі 0..10. `history` – повна історія чату зі студентом. `Message` – словник у наступному форматі:

{
    “role”: “system” | “user” | “tool_call”,
    “content”: string,
    “datetime”: “2025-12-08T13:08:50”
}

## Обраний проєкт: Paper Survey Agent

Замість реалізації запропонованого варіанту "AI Examiner Agent" у цьому проєкті
реалізується альтернативна агентна система на базі великих мовних моделей,
яка повністю відповідає загальним вимогам курсового завдання.

Обраною задачею є розробка **Paper Survey Agent** — багатокомпонентної LLM-системи,
призначеної для автоматизованого огляду наукової літератури за заданою темою.

Система приймає від користувача тему дослідження та формує структурований
огляд релевантних наукових публікацій, включно з індивідуальними резюме статей
та узагальненим аналізом напряму.

## Функціональні вимоги

Система Paper Survey Agent повинна задовольняти такі вимоги:

- Користувач вводить тему дослідження.
- Система автоматично знаходить щонайменше 10 релевантних наукових публікацій
  за час, що не перевищує 10 хвилин.
- Публікації отримуються з відкритих наукових джерел
  (наприклад, arXiv, Semantic Scholar).
- Для кожної публікації формується структуроване резюме, яке містить:
  - основні результати (key findings),
  - використані методи,
  - науковий внесок,
  - обмеження та недоліки роботи.
- Фінальний результат містить узагальнений огляд напряму, що включає:
  - загальні висновки,
  - поточні тренди досліджень,
  - типові методології,
  - можливі напрями подальших досліджень.


## Агентна архітектура

Система реалізується у вигляді багатoагентної архітектури, де кожен агент
відповідає за окрему підзадачу:

- **Агент планування запитів (Query Planner Agent)**  
  Генерує та уточнює пошукові запити на основі введеної теми.

- **Агент отримання даних (Retriever Agent)**  
  Здійснює пошук та завантаження кандидатних публікацій з зовнішніх наукових API.

- **Агент ранжування (Ranking Agent)**  
  Виконує дедуплікацію та впорядкування публікацій за релевантністю.

- **Агент узагальнення статей (Paper Summarization Agent)**  
  Формує структуровані резюме для кожної обраної публікації.

- **Агент синтезу (Synthesis Agent)**  
  Створює узагальнений аналітичний огляд на основі всіх резюме.

- **Агент оцінювання якості (Evaluation Agent)**  
  Перевіряє повноту, узгодженість та якість згенерованого результату.

## Інструменти та функції

Агенти взаємодіють із зовнішнім середовищем за допомогою Python-функцій
(інструментів). Основні функції системи:

- `start_review(topic: str, user_email: str) -> str`  
  Ініціалізує сесію огляду літератури.

- `retrieve_papers(query: str) -> list[Paper]`  
  Отримує список кандидатних наукових публікацій.

- `rank_papers(papers: list[Paper]) -> list[Paper]`  
  Виконує фільтрацію та ранжування публікацій.

- `summarize_paper(paper: Paper) -> PaperSummary`  
  Формує структуроване резюме окремої публікації.

- `synthesize_review(summaries: list[PaperSummary]) -> SynthesisResult`  
  Генерує узагальнений огляд напряму досліджень.

- `end_review(review_id: str, result: ReviewResult, history: list[Message]) -> None`  
  Зберігає фінальний результат та історію взаємодії.


### Інтерфейс користувача
Для створення вебінтерфейсу до вашого додатка можна використовувати будь-які фреймворки та технології. Однак я наполегливо рекомендую спробувати один з двох фреймворків, спеціально створених для швидкого написання прототипів та демок моделей машинного навчання:
https://www.gradio.app/
https://streamlit.io/

Інтерфейс містить:
- поле для введення теми дослідження;
- додаткові параметри пошуку (опційно);
- поле для введення API-ключа LLM;
- структуроване відображення результатів огляду.


### Deployment
Готовий додаток можна розмістити на безплатному сервісі HuggingFace Spaces. Інструкція є, наприклад, тут:
https://huggingface.co/docs/hub/en/spaces-sdks-gradio

## Тестування та оцінювання (опційно)

Проєкт містить набір автоматизованих модульних та інтеграційних тестів.
Покриття коду тестами повинно перевищувати 80%.

Тести охоплюють:
- логіку пошуку та дедуплікації публікацій;
- коректність ранжування;
- валідацію структур даних резюме та узагальнень;
- виконання повного пайплайну з використанням моків зовнішніх API.



## Здача роботи
Для зарахування роботи необхідно відправити програмний код, посилання на запущений сервіс та короткий опис виконаної роботи на email. Перевіряти буду не лише я, а й кілька інших студентів. Вам також треба буде перевірити одну роботу.


Алгоритм здачі:
1. До 19 грудня зареєструйте свій проєкт тут.
2. 19 грудня отримайте список своїх рецензентів за тим самим посиланням (заново “почніть” роботу – на цей раз вам повернеться список email)
3. Надішліть електронного листа на oleksii.o.syvokon@lpnu.ua та всім своїм рецензентам.
4. В листі у вільному форматі опишіть свою систему.
    1. Задачу, яку ви розв'язували
    2. При командному виконанні, напишіть хто брав участь в якій частині проєкту.
    3. Посилання на запущений сервіс.
    4. Інструкції з запуску, якщо є особливості.
    5. Посилання на програмний код або архів з ним.
5. Ви також є чиїмось рецензентом. При отриманні листа з виконаною роботою, перевірте чи все працює та відповідає опису. Якщо все добре, можете відповісти просто "LGTM" (розшифровується як "looks good to me") Якщо зауваження, напишіть про це у листі. Автор має можливість виправити ці проблеми або пояснити їх.


## Контакти
Дуже ймовірно, що під час виконання роботи у вас виникатимуть питання. У такому разі ви можете:
Запитати в чаті курсу у Discord.
Залишити коментар у цьому документі.
Запитати голосом або в чаті перед початком лекції.
Написати мені в приватні.
